{
  "openapi": "3.1.0",
  "info": {
    "title": "Frank Bot",
    "version": "0.3.0",
    "description": "Personal Google Calendar and Contacts assistant."
  },
  "servers": [
    {
      "url": "http://localhost:8000"
    }
  ],
  "paths": {
    "/actions/hello": {
      "get": {
        "operationId": "helloWorldGet",
        "summary": "Quick greeting (query)",
        "parameters": [
          {
            "in": "query",
            "name": "name",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "Optional name to include in the greeting."
          }
        ],
        "responses": {
          "200": {
            "description": "Greeting response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HelloWorldResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      },
      "post": {
        "operationId": "helloWorldPost",
        "summary": "Quick greeting (JSON body)",
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HelloWorldRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Greeting response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HelloWorldResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/calendar/events": {
      "get": {
        "operationId": "listCalendarEventsGet",
        "summary": "List calendar events via query parameters.",
        "parameters": [
          {
            "in": "query",
            "name": "day",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "ISO date (YYYY-MM-DD)."
          },
          {
            "in": "query",
            "name": "time_min",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "Lower bound (inclusive) in RFC3339/ISO8601 format."
          },
          {
            "in": "query",
            "name": "time_max",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "Upper bound (exclusive) in RFC3339/ISO8601 format."
          },
          {
            "in": "query",
            "name": "max_results",
            "schema": {
              "type": "integer"
            },
            "required": false,
            "description": "Maximum events to return (1-50)."
          },
          {
            "in": "query",
            "name": "time_zone",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "IANA timezone name."
          },
          {
            "in": "query",
            "name": "calendar_id",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "Specific calendar ID."
          },
          {
            "in": "query",
            "name": "calendar_name",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "Display name used to resolve a calendar."
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully listed events.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCalendarEventsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/calendar/events:list": {
      "post": {
        "operationId": "listCalendarEventsPost",
        "summary": "List calendar events via JSON body.",
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ListCalendarEventsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully listed events.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCalendarEventsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/calendar/events:create": {
      "post": {
        "operationId": "createCalendarEvent",
        "summary": "Create a Google Calendar event.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCalendarEventRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Created calendar event.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateCalendarEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/calendar/calendars": {
      "get": {
        "operationId": "listCalendarsGet",
        "summary": "List calendars available to the authenticated user.",
        "parameters": [
          {
            "in": "query",
            "name": "include_access_role",
            "schema": {
              "type": "boolean"
            },
            "required": false,
            "description": "Include accessRole metadata when true."
          },
          {
            "in": "query",
            "name": "primary_only",
            "schema": {
              "type": "boolean"
            },
            "required": false,
            "description": "Return only the primary calendar when true."
          }
        ],
        "responses": {
          "200": {
            "description": "List of calendars.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCalendarsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/calendar/calendars:list": {
      "post": {
        "operationId": "listCalendarsPost",
        "summary": "List calendars via JSON body.",
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ListCalendarsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of calendars.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCalendarsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/contacts/search": {
      "get": {
        "operationId": "searchContactsGet",
        "summary": "Search Google Contacts via query parameters.",
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Search text (names, emails, or phone numbers)."
          },
          {
            "in": "query",
            "name": "max_results",
            "schema": {
              "type": "integer"
            },
            "required": false,
            "description": "Maximum results to return."
          }
        ],
        "responses": {
          "200": {
            "description": "Search results.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchContactsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Missing query parameter.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      },
      "post": {
        "operationId": "searchContactsPost",
        "summary": "Search Google Contacts via JSON body.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchContactsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Search results.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchContactsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/swarm/self": {
      "get": {
        "operationId": "listMySwarmCheckinsGet",
        "summary": "List recent Swarm check-ins for your account via query parameters.",
        "parameters": [
          {
            "in": "query",
            "name": "max_results",
            "schema": {
              "type": "integer"
            },
            "required": false,
            "description": "Number of check-ins to return (default 5, max 20)."
          },
          {
            "in": "query",
            "name": "stale_minutes",
            "schema": {
              "type": "integer"
            },
            "required": false,
            "description": "Minutes before a check-in is considered stale (default 180)."
          }
        ],
        "responses": {
          "200": {
            "description": "Recent check-ins for your Swarm account.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SwarmMyCheckinsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      },
      "post": {
        "operationId": "listMySwarmCheckinsPost",
        "summary": "List recent Swarm check-ins for your account via JSON body.",
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SwarmMyCheckinsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Recent check-ins for your Swarm account.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SwarmMyCheckinsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/me/time": {
      "get": {
        "operationId": "getMyTimeGet",
        "summary": "Return the current local time and timezone for the authenticated user.",
        "responses": {
          "200": {
            "description": "Current local time information.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrentTimeResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      },
      "post": {
        "operationId": "getMyTimePost",
        "summary": "Return the current local time and timezone for the authenticated user.",
        "responses": {
          "200": {
            "description": "Current local time information.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrentTimeResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    },
    "/actions/server/version": {
      "get": {
        "operationId": "getServerVersionGet",
        "summary": "Return the container start time and current uptime.",
        "responses": {
          "200": {
            "description": "Start info for the running Docker instance.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerVersionResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      },
      "post": {
        "operationId": "getServerVersionPost",
        "summary": "Return the container start time and current uptime.",
        "responses": {
          "200": {
            "description": "Start info for the running Docker instance.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerVersionResponse"
                }
              }
            }
          },
          "401": {
            "description": "Missing or invalid API key.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "ActionsApiKey": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "HelloWorldRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Optional name to use in the greeting."
          }
        }
      },
      "HelloWorldResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "message",
          "name"
        ]
      },
      "ListCalendarEventsRequest": {
        "type": "object",
        "properties": {
          "day": {
            "type": "string",
            "description": "ISO date (YYYY-MM-DD). When provided all events for that day are returned."
          },
          "time_min": {
            "type": "string",
            "description": "Lower bound (inclusive) in RFC3339/ISO8601 format."
          },
          "time_max": {
            "type": "string",
            "description": "Upper bound (exclusive) in RFC3339/ISO8601 format."
          },
          "max_results": {
            "type": "integer",
            "description": "Maximum events to return (1-50)."
          },
          "time_zone": {
            "type": "string",
            "description": "IANA timezone name to use for day ranges."
          },
          "calendar_id": {
            "type": "string",
            "description": "Specific calendar ID to query."
          },
          "calendar_name": {
            "type": "string",
            "description": "Display name used to resolve a calendar."
          }
        }
      },
      "CalendarDescriptor": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "label": {
            "type": "string"
          }
        }
      },
      "TimeWindow": {
        "type": "object",
        "properties": {
          "time_min": {
            "type": "string"
          },
          "time_max": {
            "type": "string"
          },
          "time_zone": {
            "type": "string"
          }
        }
      },
      "CalendarEvent": {
        "type": "object",
        "description": "Subset of Google Calendar event resource.",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique event identifier."
          },
          "summary": {
            "type": "string",
            "description": "Event title."
          },
          "description": {
            "type": "string",
            "description": "Optional event description/body."
          },
          "location": {
            "type": "string",
            "description": "Event location if provided."
          },
          "htmlLink": {
            "type": "string",
            "format": "uri",
            "description": "Google Calendar web URL for the event."
          },
          "start": {
            "type": "object",
            "description": "Google Calendar start object.",
            "additionalProperties": true
          },
          "end": {
            "type": "object",
            "description": "Google Calendar end object.",
            "additionalProperties": true
          },
          "attendees": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "responseStatus": {
                  "type": "string"
                }
              },
              "additionalProperties": true
            },
            "description": "List of attendee objects when present."
          }
        },
        "additionalProperties": true
      },
      "ListCalendarEventsResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "calendar": {
            "$ref": "#/components/schemas/CalendarDescriptor"
          },
          "time_window": {
            "$ref": "#/components/schemas/TimeWindow"
          },
          "count": {
            "type": "integer"
          },
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CalendarEvent"
            }
          }
        },
        "required": [
          "message",
          "calendar",
          "time_window",
          "count",
          "events"
        ]
      },
      "CreateCalendarEventRequest": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string"
          },
          "start": {
            "type": "string",
            "description": "Start time in ISO8601 format."
          },
          "end": {
            "type": "string",
            "description": "End time in ISO8601 format."
          },
          "attendees": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Email addresses for attendees."
          },
          "description": {
            "type": "string"
          },
          "time_zone": {
            "type": "string",
            "description": "IANA timezone for the event block."
          },
          "calendar_id": {
            "type": "string"
          },
          "calendar_name": {
            "type": "string"
          }
        },
        "required": [
          "summary",
          "start",
          "end"
        ]
      },
      "CreateCalendarEventResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "calendar": {
            "$ref": "#/components/schemas/CalendarDescriptor"
          },
          "event": {
            "$ref": "#/components/schemas/CalendarEvent"
          }
        },
        "required": [
          "message",
          "calendar",
          "event"
        ]
      },
      "ListCalendarsRequest": {
        "type": "object",
        "properties": {
          "include_access_role": {
            "type": "boolean",
            "description": "Include Google accessRole information when true."
          },
          "primary_only": {
            "type": "boolean",
            "description": "Restrict to the primary calendar when true."
          }
        }
      },
      "CalendarSummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "summary": {
            "type": "string"
          },
          "timeZone": {
            "type": "string"
          },
          "primary": {
            "type": "boolean"
          },
          "accessRole": {
            "type": "string"
          }
        }
      },
      "ListCalendarsResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "count": {
            "type": "integer"
          },
          "calendars": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CalendarSummary"
            }
          }
        },
        "required": [
          "message",
          "count",
          "calendars"
        ]
      },
      "SearchContactsRequest": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Free-form text containing names, emails, or phone numbers."
          },
          "max_results": {
            "type": "integer",
            "description": "Maximum contacts to return (1-50)."
          }
        },
        "required": [
          "query"
        ]
      },
      "ContactResult": {
        "type": "object",
        "properties": {
          "resource_name": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "emails": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "phones": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": false
      },
      "SearchContactsResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "query": {
            "type": "string"
          },
          "count": {
            "type": "integer"
          },
          "contacts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContactResult"
            }
          }
        },
        "required": [
          "message",
          "query",
          "count",
          "contacts"
        ]
      },
      "SwarmCheckinEntry": {
        "type": "object",
        "properties": {
          "iso_time": {
            "type": "string",
            "format": "date-time"
          },
          "minutes_since": {
            "type": "integer"
          },
          "venue_name": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "state": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "canonical_url": {
            "type": "string",
            "format": "uri"
          },
          "shout": {
            "type": "string"
          }
        }
      },
      "SwarmMyCheckinsRequest": {
        "type": "object",
        "properties": {
          "max_results": {
            "type": "integer",
            "description": "Number of check-ins to return (default 5, max 20)."
          },
          "stale_minutes": {
            "type": "integer",
            "description": "Minutes before a check-in is considered stale (default 180)."
          }
        }
      },
      "SwarmMyCheckinsResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "count": {
            "type": "integer"
          },
          "checkins": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SwarmCheckinEntry"
            }
          }
        },
        "required": [
          "message",
          "count",
          "checkins"
        ]
      },
      "CurrentTimeResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "iso_time": {
            "type": "string",
            "format": "date-time",
            "description": "Current time in ISO 8601 format."
          },
          "timezone": {
            "type": "string",
            "description": "IANA timezone identifier."
          },
          "offset_minutes": {
            "type": "integer",
            "description": "UTC offset in minutes."
          }
        },
        "required": [
          "message",
          "iso_time",
          "timezone",
          "offset_minutes"
        ]
      },
      "ServerVersionResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "startup_iso_time": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the container process started."
          },
          "uptime_seconds": {
            "type": "integer",
            "description": "Uptime calculated at the time of the request."
          }
        },
        "required": [
          "message",
          "startup_iso_time",
          "uptime_seconds"
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "detail": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "ActionsApiKey": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key",
        "description": "Server-side secret. Configure ACTIONS_API_KEY and send the same value in this header."
      }
    }
  },
  "security": [
    {
      "ActionsApiKey": []
    }
  ]
}
